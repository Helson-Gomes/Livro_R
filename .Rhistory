dec = ".",skip=2 #indicando que o separador decimal é o ponto
)
?readxl::read_excel()
library(readxl)
dt = read_xls(
path = "https://drive.google.com/uc?id=141Tws9jifN8Lk4OpuyHpc9dATED9eZKC&export=download",
skip = 3,
col_names = TRUE
)
tp = tempfile()
download.file("https://drive.google.com/uc?id=141Tws9jifN8Lk4OpuyHpc9dATED9eZKC&export=download", destfile = tp)
dt = read_xls(
path = tp,
skip = 3,
col_names = TRUE
)
destfile <- tempfile(fileext = ".xls")
url <- "https://drive.google.com/uc?id=141Tws9jifN8Lk4OpuyHpc9dATED9eZKC&export=download"
download.file(url, destfile, mode = "wb")
dt = read_xls(
path = destfile,
skip = 3,
col_names = TRUE
)
View(dt)
View(dt)
D:/pnad2021 = "Z:\\URCA\\2024.1\\Intr.Prog.Dados\\Aula_VI"
D:\\pnad2021 = "Z:\\URCA\\2024.1\\Intr.Prog.Dados\\Aula_VI"
pnad2024 = "Z:\\URCA\\2024.1\\Intr.Prog.Dados\\Aula_VI"
pnad2024 = "Z:\\URCA\\2024.1\\Intr.Prog.Dados\\Aula_VI"
library(readr)
pnad202 = read_fwf(
file = "pnad2024\\PNADC_022024.txt",
fwf_cols(
Ano = c(1,4),
Trimestre = c(5, 5),
UF = c(6,7)
)
)
setwd("Z:\\URCA\\2024.1\\Intr.Prog.Dados\\Aula_VI")
pnad2024 = read_fwf(
file = "PNADC_022024.txt",
fwf_cols(
Ano = c(1,4),
Trimestre = c(5, 5),
UF = c(6,7)
)
)
dt = foreign::read.dta("https://drive.google.com/uc?id=176sePIlFsqMH9mrtueX9RtHJZmZtWd-0&export=download")
bookdown::build_chapter()
library(readr)
pnad = read_fwf(
"https://drive.google.com/uc?id=1Tv3qIA-Uiu7p5LRWWjET7h6gOYyhlGBi=download",
fwf_cols(
ano = c(1,4),
trimestre = c(5,5)
)
)
tp = tempfile()
download.file("https://drive.google.com/uc?id=1Tv3qIA-Uiu7p5LRWWjET7h6gOYyhlGBi=download", destfile = tp)
pnad = read_fwf(
"https://drive.google.com/uc?id=1Tv3qIA-Uiu7p5LRWWjET7h6gOYyhlGBi&export=download",
fwf_cols(
ano = c(1,4),
trimestre = c(5,5)
)
)
View(pnad)
tp = tempfile()
download.file("https://drive.google.com/uc?id=1Tv3qIA-Uiu7p5LRWWjET7h6gOYyhlGBi&export=download", destfile = tp)
pnad = read_fwf(
tp,
fwf_cols(
ano = c(1,4),
trimestre = c(5,5)
)
)
download.file("https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Trimestral/Microdados/2024/PNADC_022024_20250815.zip", destfile = tp)
pnad = read_fwf(
unz(tp, "PNADC_022024_20250815.txt"),
fwf_cols(
ano = c(1,4),
trimestre = c(5,5)
)
)
pnad = read_fwf(
unz(tp, "PNADC_022024.txt"),
fwf_cols(
ano = c(1,4),
trimestre = c(5,5)
)
)
View(pnad)
View(pnad)
sqrt(0.5*(0.06 - 0.1)^2 + 0.5*(0.14-0.1)^2)
sqrt(0.5*(0 - 0.125)^2 + 0.5*(0.25-0.125)^2)
0.04/0.1
80/90
install.packages("tidyr")
library(dplyr)
library(tidyr)
mtcars %>% summarise(mean(mpg))
band_members <- tibble(
name = c("John", "Paul", "Mick"),
band = c("Beatles", "Beatles", "Stones")
)
band_instruments <- tibble(
name = c("John", "Paul", "George"),
instrument = c("Guitar", "Bass", "Guitar")
)
semi_join(band_members, band_instruments, by = "name")
View(band_instruments)
View(band_members)
View(band_instruments)
anti_join(band_members, band_instruments, by = "name")
View(band_instruments)
100*0.05
1572*0.05
15941*0.05
pib = read.csv(
"https://sidra.ibge.gov.br/geratabela?format=br.csv&name=tabela5938.csv&terr=NS&rank=-&query=t/5938/n2/all/v/37/p/last%201/d/v37%200/l/v,p,t",
skip = 3,
header = TRUE,
sep = ";"
)
View(pib)
pib = pib[1:5,]
View(pib)
colnames(pib) = c("Nivel", "regiao", "pib")
pop = read.csv(
"https://sidra.ibge.gov.br/geratabela?format=br.csv&name=tabela6579.csv&terr=NS&rank=-&query=t/6579/n2/all/v/all/p/2021/l/v,p,t",
skip = 3,
header = TRUE,
sep = ";"
)
View(pop)
View(pop)
View(pib)
View(pop)
pib_regioes = inner_join(x = pib, y = pop, by = "regiao")
View(pop)
View(pib)
pop = pop[1:5,-1]
colnames(pop) = c("regiao", "populacao")
View(pop)
pib_regioes = inner_join(x = pib, y = pop, by = "regiao")
print(pib_regioes)
pib_regioes$pib_percapita = pib_regioes$pib/pib_regioes$populacao
print(pib_regioes)
barplot(x = pib_regioes$regiao, y = pib_regioes$pib_percapita, color = "cyan")
barplot(x = pib_regioes$regiao, y = pib_regioes$pib_percapita)
barplot(pib_regioes$regiao, pib_regioes$pib_percapita)
barplot(pib_regioes$pib_percapita)
?barplot
barplot(pib_regioes$pib_percapita, color = "cyan", names.arg = pib_regioes$regiao)
View(pib_regioes)
barplot(pib_regioes$pib_percapita, color = "cyan", names.arg = pib_regioes$regiao, main = "Pib per capita das regiões do Brasil")
barplot(pib_regioes$pib_percapita, color = "cyan", names.arg = pib_regioes$regiao, main = "Pib per capita das regiões do Brasil", xlab = "Região", ylab = "Pib per capita (R$ 1000,00)")
barplot(
pib_regioes$pib_percapita,
color = "cyan",
names.arg = pib_regioes$regiao,
main = "Pib per capita das regiões do Brasil",
xlab = "Região",
ylab = "Pib per capita (R$ 1000,00)",
ylim = c(0,60)
)
library(readr)
mtcars["cambio"] = ifelse(mtcars["am"] == 0, "manual", "automatico")
View(mtcars)
mtcars[,"cambio"] = ifelse(mtcars["am"] == 0, "manual", "automatico")
mtcars[,"cambio"] = ifelse(mtcars[,"am"] == 0, "manual", "automatico")
unique(mtcars$cyl)
mtcars[mtcars$am == 1,]
dt = mtcars %>%
filter(
am == 1,
cyl == 6,
carb >= 6,
wt > 3
)
library(dplyr)
library(tidyr)
dt = mtcars %>%
filter(
am == 1,
cyl == 6,
carb >= 6,
wt > 3
)
head(dt)
unique(mtcars$carb)
table(mtcars$carb, mtcars$cyl)
dt = mtcars %>%
filter(
am == 1,
cyl == 6,
carb >= 4,
wt > 3
)
head(dt)
dt = mtcars %>%
filter(
am == 1,
cyl == 6,
carb >= 4,
wt > 2
)
head(dt)
2239*0.05
dt = mtcars %>%
group_by(cyl) %>%
mutate(
peso_medio = mean(wt)
)
head(dt[5:14])
dt = mtcars %>%
group_by(cyl) %>%
mutate(
peso_medio = mean(wt)
)
head(dt[5:12])
dt = mtcars %>%
group_by(cyl) %>%
mutate(
peso_medio = mean(wt)
)
head(dt[3:12])
mtcars %>% summarise("mpg", mean)
mtcars %>% summarise(mean(mpg))
mtcars %>% summarise(mean(mpg), mean(wt))
mean(mtcars$mpg, mtcars$wt)
mtcars %>%
summarise(
peso_medio = mean(wt),
consumo_medio = mean(mpg),
numero_carros = length(mpg)
)
mtcars %>% summarise_all(mean)
mtcars %>% summarise_all(c(mean, sd))
mtcars %>% summarise_all(mean, sd)
mtcars %>% summarise_all(.funs = c(mean, sd))
mtcars %>% summarise_all(.funs = c("mean", "sd"))
mtcars %>% summarise_all(.funs = c("mean", "sd"), .vars = c("mpg", "wt"))
mtcars %>% summarise_all(.funs = c("mean", "sd"), .vars = c(mpg, wt))
mtcars %>%
summarise_all(.funs = c("mean", "sd", "median"))
mtcars %>%
summarise(
peso_medio = mean(wt),
consumo_medio = mean(mpg),
numero_carros = length(mpg)
)
mtcars %>% summarise_at(.vars = c("mpg", "wt"), .funs = c("mean", "sd", "median"))
mtcars
mtcars %>%
summarise_at(
.vars = c("mpg", "wt", "qseq"),
.funs = c("mean", "sd", "median")
)
mtcars %>%
summarise_at(
.vars = c("mpg", "wt", "qsec"),
.funs = c("mean", "sd", "median")
)
mtcars %>%
summarise_at(
.vars = c("mpg", "wt", "qsec"),
.funs = c("mean", "sd", "median", na.rm = T)
)
mtcars %>%
summarise_at(
.vars = c("mpg", "wt", "qsec"),
.funs = c("mean", "sd", "median"), na.rm = T
)
dt = mtcars
dt[1,] = NA
dt %>%
summarise_at(
.vars = c("mpg", "wt", "qsec"),
.funs = c("mean", "sd", "median"), na.rm = T
)
class(mtcars)
class(mtcars[,1:ncol(mtcars)])
View(dt)
mtcars %>% summarise_if(sum(x) > 2)
mtcars %>% summarise_if(.sum(x) > 2)
mtcars %>% summarise_if(function(x){x >2})
mtcars %>% summarise_if(function(x){sum(x) >2})
mtcars %>% summarise_if(function(x){sum(x) >2}, mean)
mtcars %>% summarise_if(function(x){sum(x) >10}, mean)
f = function(x){return(sum(x))}
mtcars %>% summarise_if(f>10, mean)
sum(mtcars[,1]) > 10
f = function(x){if(sum(x) > 0){TRUE}else{FALSE}}
f(mtcars[,1])
mtcars %>% summarise_if(f, mean)
f = function(x){if(sum(x) > 100){TRUE}else{FALSE}}
mtcars %>% summarise_if(f, mean)
mtcars %>% summarise_if(f, .func = c("mean", "sd"))
mtcars %>% summarise_if(f, .funs =  = c("mean", "sd"))
mtcars %>% summarise_if(f, .funs = c("mean", "sd"))
f = function(x){
if(x > 100){
return(TRUE)
}else{
return(FALSE)
}
}
mtcars %>%
summarise_if(f, .funs = c("mean","sd", "median"))
library(readr)
install.packages("readr")
dt = data.frame(x1 = c(1,1,1,2,2,2,3,3,3), x = c("A", "C", "B", "C", "B", "A", "A", "B","C"), x3 = c(5,1,3,1,3,5,5,3,1))
library(dplyr)
library(tidyr)
pivot_wider(dt, names_from = x2, values_from = x3)
View(dt)
dt = data.frame(x1 = c(1,1,1,2,2,2,3,3,3), x2 = c("A", "C", "B", "C", "B", "A", "A", "B","C"), x3 = c(5,1,3,1,3,5,5,3,1))
pivot_wider(dt, names_from = x2, values_from = x3)
dt = mtcars %>%
filter(mpg, wt, am) %>% pivot_wider(names_from = am, values_from = mpg)
dt = mtcars %>%
select(mpg, wt, am) %>% pivot_wider(names_from = am, values_from = mpg)
dt = mtcars %>%
select(mpg, wt, am) %>% pivot_wider(names_from = am, values_fn = mpg)
fish_encounters
dt = mtcars %>%
select(mpg, wt, am) %>% pivot_wider(names_from = am, values_fn = mpg)
dt = mtcars %>%
select(mpg, wt, am) %>% pivot_wider(names_from = am, values_from = mpg)
dt = data.frame(
x1 = c(1,1,1,2,2,2,3,3,3),
x2 = c("A", "C", "B", "C", "B", "A", "A", "B", "C"),
x3 = c(5,1,3,1,3,5,5,3,1)
)
dt
dt1 = dt %>%
pivot_wider(names_from = x2, values_from = x3)
library(dplyr)
library(tidyr)
dt1 = dt %>%
pivot_wider(names_from = x2, values_from = x3)
dt1
dt1 %>% pivot_longer(data = !x1, names_to = "x2", values_to = "x3")
View(dt1)
dt1 %>% pivot_longer(data = !"x1", names_to = "x2", values_to = "x3")
dt1 %>% pivot_longer(data = -x1, names_to = "x2", values_to = "x3")
dt1 %>% pivot_longer(!x1, names_to = "x2", values_to = "x3")
dt1 %>% pivot_longer(cols = !x1, names_to = "x2", values_to = "x3")
dt1 %>% pivot_longer(cols = x1, names_to = "x2", values_to = "x3")
dt1 %>% pivot_longer(cols = -x1, names_to = "x2", values_to = "x3")
dt2 = dt1 %>%
pivot_longer(
cols = c(A, B, C),
names_to = "x1",
values_to = "x2"
)
View(dt1)
dt2 = dt1 %>%
pivot_longer(
cols = c("A", "B", "C"),
names_to = "x1",
values_to = "x2"
)
dt2 = dt1 %>%
pivot_longer(
cols = 2:4,
names_to = "x1",
values_to = "x2"
)
dt2 = dt1 %>%
pivot_longer(
cols = -x1,
names_to = "x1",
values_to = "x2"
)
dt2 = dt1 %>%
pivot_longer(
cols = c(A, B, C),
names_to = "x2",
values_to = "x3"
)
dt2
dt2 = dt1 %>%
pivot_longer(
cols = c(A, C, B),
names_to = "x2",
values_to = "x3"
)
dt2
dt2 = dt1 %>%
pivot_longer(
cols = c(A, B, C),
names_to = "x2",
values_to = "x3"
)
dt2
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max"))
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max")) %>%
pivot_longer(names_to = "variavel", values_to = "estatistica")
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max")) %>%
pivot_longer(cols = all, names_to = "variavel", values_to = "estatistica")
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max")) %>%
pivot_longer(cols = !all, names_to = "variavel", values_to = "estatistica")
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max")) %>%
pivot_longer(
cols = everything(), # selecionando todas as colunas
names_to = "variavel",
values_to = "estatistica"
)
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max")) %>%
pivot_longer(
cols = everything(), # selecionando todas as colunas
names_to = "variavel",
values_to = "valor_estatistica"
) %>%
separate(variavel, into = c("coluna", "estatistica"), sep = "_")
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max")) %>%
pivot_longer(
cols = everything(), # selecionando todas as colunas
names_to = "variavel",
values_to = "valor_estatistica"
) %>%
separate(variavel, into = c("coluna", "estatistica"), sep = "_") %>%
pivot_wider(
names_from = estatisica,
values_from = valor_estatistica
)
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max")) %>%
pivot_longer(
cols = everything(), # selecionando todas as colunas
names_to = "variavel",
values_to = "valor_estatistica"
) %>%
separate(variavel, into = c("coluna", "estatistica"), sep = "_") %>%
pivot_wider(
names_from = "estatisica",
values_from = "valor_estatistica"
)
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max")) %>%
pivot_longer(
cols = everything(), # selecionando todas as colunas
names_to = "variavel",
values_to = "valor_estatistica"
) %>%
separate(variavel, into = c("coluna", "estatistica"), sep = "_") %>%
pivot_wider(
names_from = "estatistica",
values_from = "valor_estatistica"
)
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max")) %>%
pivot_longer(
cols = everything(), # selecionando todas as colunas
names_to = "variavel",
values_to = "valor_estatistica"
) %>%
separate(variavel, into = c("coluna", "estatistica"), sep = "_") %>%
pivot_wider(
names_from = "estatistica",
values_from = "valor_estatistica"
) %>%
rename(
Variavel = coluna,
Observacoes= length,
Media = mean,
Desvio_padrao = sd,
Minino = min,
Maximo = max
)
mtcars %>%
summarise_all(.funs = c("length", "mean", "sd", "min", "max")) %>%
pivot_longer(
cols = everything(), # selecionando todas as colunas
names_to = "variavel",
values_to = "valor_estatistica"
) %>%
separate(variavel, into = c("coluna", "estatistica"), sep = "_") %>%
pivot_wider(
names_from = "estatistica",
values_from = "valor_estatistica"
) %>%
rename(
Variavel = coluna,
Observacoes= length,
Media = mean,
Desvio_padrao = sd,
Minino = min,
Maximo = max
)
LETTERS[1:26]
df = data.frame(
x1 = 1:10,
x2 = c(paste(sample(LETTERS[1:26], 10), sample(1:100, 10), sep = "-"))
)
df
View(df)
df = data.frame(
x1 = 1:10,
x2 = c(paste(sample(LETTERS[1:26], 10), sample(1:100, 10), sep = "-"))
)
df
